var v=Object.defineProperty;var b=(s,t,e)=>t in s?v(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var h=(s,t,e)=>(b(s,typeof t!="symbol"?t+"":t,e),e);import{i as m,r as u,j as l,q as S}from"./index-DWyrRSv0.js";class i{static openConnection(t){this.socket=new WebSocket(t)}static closeConnection(){this.socket&&this.socket.close()}static onSocketMessage(t){var e;(e=this.socket)==null||e.addEventListener("message",c=>{t(c)})}}h(i,"socket",null);const B=m("depth",()=>{const s=["BTCUSDT","BNBBTC","ETHBTC"],t=u(s[0]),e=u([]),c=u([]),r=l(()=>e.value),p=l(()=>c.value),d=a=>{const n=`wss://stream.binance.com:9443/ws/${a.toLocaleLowerCase()}@depth`;e.value=[],c.value=[],i.closeConnection(),i.openConnection(n),i.onSocketMessage(k)},k=a=>{const n=JSON.parse(a.data),C=n.a,D=n.b;C.forEach(o=>{e.value.push({price:o[0],quantity:o[1],total:+o[0]*+o[1]})}),D.forEach(o=>{c.value.push({price:o[0],quantity:o[1],total:+o[0]*+o[1]})})};return S(()=>t.value,a=>{d(a)},{immediate:!0}),{activeCurrencyPair:t,CURRENCY_PAIRS:s,asksDepthData:r,bidsDepthData:p}});export{B as u};
